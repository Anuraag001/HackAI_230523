<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Agent</title>
    <!-- Include Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+Jnujsl5+z1E2j5eabftr/Uw5P03B/z4f+SD5v2F5P07bJQf" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-5">
        <h1>Create Agent</h1>
        <form method="POST" action="{% url 'threshold' user_id=user_id %}">
            {% csrf_token %}
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>

            <select name="base_currency" class="form-select" id="form-select-base" aria-label="Default select example">
                <option selected>Select base Currency</option>
                {% for currency in currencies %}
                    <option value="{{ currency }}">{{ currency }}</option>
                {% endfor %}
            </select>

            <div class="mb-3">
                <label for="min_value" class="form-label">Minimum Value</label>
                <input type="number" class="form-control" id="min_value" name="min_value" step="0.01" required>
            </div>
            <div class="mb-3">
                <label for="max_value" class="form-label">Maximum Value</label>
                <input type="number" class="form-control" id="max_value" name="max_value" step="0.01" required>
            </div>
            <select name="to_currency" class="form-select" id="form-select-to" iaria-label="Default select example">
                <option selected>Select to convert currency</option>
                {% for currency in currencies %}
                    <option value="{{ currency }}">{{ currency }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="btn btn-primary">Create Agent</button>
        </form>
    </div>

    {% for agent in all_agents %}
        <div class="container mt-5">
            <h1>Agent: {{ agent.name }}</h1>
            <p>Base Currency: {{ agent.base_currency }}</p>
            <p>Minimum Value: {{ agent.min_value }}</p>
            <p>Maximum Value: {{ agent.max_value }}</p>
            <p>Foreign Currency: {{ agent.foreign_currency }}</p>
            
        </div>
    {% endfor %}
    <a href="{% url 'run' user_id=user_id %}"><button>run</button></a>
    <!-- Include Bootstrap JS and Popper.js for form validation -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+Jnujsl5+z1E2j5eabftr/Uw5P03B/z4f+SD5v2F5P07bJQf" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-KEYmT5qz2f5q0Rx5RjD5z5me5F9D5t6zjoIPWy8jHPwuPj2FkC6LZiLyh5foGlKz" crossorigin="anonymous"></script>
</body>
</html>
